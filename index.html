<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>SOFEA - Arquiteturas REST com Backbone e HTML5</title>

		<meta name="description" content="Presentation about SOFEA - Service-Oriented Front-End Architecture with Backbone and HTML5">
		<meta name="author" content="Gabriel Zigolis">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <link rel="stylesheet" href="css/print/print.css" media="print">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
    <style>
        .text {
            line-height: 70px !important;
        }

        .text-12 {
            font-size: 120px !important
        }

        .text-8 {
            font-size: 80px !important
        }

        .text-5 {
            font-size: 50px !important
        }

        .text-4 {
            font-size: 40px !important;
        }

        .text-3 {
            font-size: 30px !important;
        }

        .text-2 {
            font-size: 25px !important;
        }

        .mtop-3 {
            margin-top: 300px !important;
        }

        .pull-right {
            text-align: right;
        }

        img {
            border: none !important;
            background: none !important;
            box-shadow: none !important;
        }

        .f-l {
            float: left;
        }

        .f-r {
            float: right;
        }

        .exclamation {
            color: #ff7800;
            display: block;
            font-size: 200px !important;
            margin-top: 40px !important
        }

        * {
            font-weight: 100 !important;
            font-family: 'Lucida Grande' !important;
        }

        .img {
            max-width: none !important;
            max-height: none !important;
        }

        .joel {
            position: absolute !important;
            top: -50px !important;
            margin: 0 !important;
        }

        @font-face {
            font-family: 'chunkfive';
            src: url("lib/font/chunkfive.otf");
            font-weight: normal;
            font-style: normal;
        }

        .spotlight {
            font-family: chunkfive !important;
        }

        .t-fff {
            color: #999;
            letter-spacing: 0;
            text-shadow: -1px 1px 1px #777;
        }

        .code {
            line-height: 1.4 !important;
            zoom: 1.9;
        }

        .code-mid {
            width: 550px;
            margin-left: -20px !important;
        }

        .code-big {
            width: 650px;
            margin-left: -50px !important;
        }
        #tdc {
            background: url(img/tdc.png) repeat-x;
            height: 17px;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2
        }
    </style>

	<body>
        <div id="tdc"></div>
		<div class="reveal">
			<div class="slides">
				<section data-background="#000">
                    <img src="img/tdc_logo.png" width="25%">
                    <p class="text-8 spotlight">SOFEA <br>Arquiteturas REST com Backbone e HTML5</p><br>
					<p class="text text-3"><a href="http://twitter.com/zigolis" class="orange">Gabriel Zigolis / @zigolis</a></p>
				</section>

                <section data-background="#fff">
                     <img src="img/mosaic_logo_full.png" width="145%" class="img print" style="position:absolute;left:-216px;top:-23px">
                </section>

                <section data-background="#000">
                    <img src="img/livro_sofia.png" width="30%" class="f-l" style="margin-left:142px"><br><br>

                    <p class="text-8 spotlight">
                        WTF is <br>SOFEA <br> <strong class="exclamation">?</strong>
                    </p>
                </section>

                <section data-background="#000" data-transition="linear">
                    <p class="text-12 spotlight">S O F E A</p>
                    <p class="text text-5">Service Oriented Front End Architecture</p>
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">SOFEA</p>

                    <p class="text text-5">
                        &ldquo;Proposes to remove all presentation layer logic from the server
                        to JavaScript logic on the client.&rdquo;
                    </p><br>

                    <p class="text text-2 pull-right">
                        <a href="https://sites.google.com/a/thinserverarchitecture.com/home/Definitions">
                            <em>thinserverarchitecture.com</em>
                        </a>
                    </p>
                </section>

                <section data-background="#000">
                    <p class="text-5 spotlight">O que nós ganhamos com isso?</p>
                    <img src="img/dvd_sofia.png" class="f-l">

                    <ul class="f-l" style="margin:100px 0 0 80px;">
                        <li class="text-2">Divisão de responsabilidades no desenvolvimento</li>
                        <li class="text-2">Baixo acoplamento das camadas</li>
                        <li class="text-2">Comunicação client/server através de verbos HTTP</li>
                        <li class="text-2">O client requisita o que e quando</li>
                    </ul>
                </section>

                <section data-background="#fff" data-transition="zoom">
                    <p class="text-12 spotlight t-fff">REST</p>

                    <p class="text text-5 spotlight t-fff fragment">in peace</p>
                    <img src="img/rip_ie.jpg" alt="" class="fragment">
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">R E S T</p>

                    <p class="text text-4">
                        &ldquo;Software architectural style consisting of a coordinated set of architectural constraints
                        applied components, conectors and data elements, within a distributed hypermedia system.&rdquo;
                    </p><br>

                    <p class="text text-2 pull-right">
                        <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm">
                            <em>Roy Thomas Fielding</em>
                        </a>
                    </p>
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">Características</p><br>

                    <ul class="text text-4">
                        <li>Client-Server</li>
                        <li>Stateless</li>
                        <li>Cache</li>
                        <li>HTTP verbs: GET, POST, PUT, DELETE...</li>
                    </ul>
                </section>

                <section data-background="#fff" data-transition="zoom">
                    <img src="img/backbone.png" alt="image backbone">
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">Backbone</p>

                    <p class="text text-4">
                        &ldquo;Gives structure to web applications by providing models, collections and views to
                        consume API over a RESTful JSON interface.&rdquo;
                    </p><br>

                    <p class="text text-2 pull-right">
                        <a href="http://backbonejs.org/">
                            <em>backbonejs.org</em>
                        </a>
                    </p>
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">Características</p><br>

                    <ul class="text text-4">
                        <li>Poderosa LIB JavaScript</li>
                        <li>Adaptável, baseada no padrão MV*</li>
                        <li>Moderninha, largamente usada em SPA</li>
                        <li>Magrinha, apenas 6.5Kb</li>
                    </ul>
                </section>

                <section data-background="#000">
                    <img src="img/html_logo.png" alt="HTML5 logo">
                </section>

                <section data-background="#000" data-transition="zoom">
                    <p class="text-12 spotlight">HTML5 é a n...</p>
                    <img src="img/joel_facts.png" alt="Joel facts"  height="800px" class="img joel fragment">

                    <p class="text-8 spotlight fragment" style="position:absolute;left:-50px;top:200px;">Tá de <br> brinqueichon <br> uite me,<br>cara?</p>
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">HTML5 Rocks</p>
                    <img src="img/html5rocks.png">
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">W3C</p>
                    <img src="img/html5w3c.png">
                </section>

                <section data-background="#000" data-transition="zoom">
                    <p class="text-12 spotlight">Material em PT</p>
                    <img src="img/dinosaur.png" width="50%">
                </section>

                <section data-background="#fff">
                    <p class="text-12 spotlight t-fff">Collection</p>
                    <img src="img/collection.jpg">
                </section>

                <section data-background="#fff" data-transition="zoom">
                    <img src="img/grooveshark.png">
                </section>

                <section data-background="#000">
                    <img src="img/grooveshark/1.png" class="img groove" rel="1" width="1000px">
                </section>

                <script>
                    document.getElementsByClassName("groove")[0].onclick = function(){
                        rel = parseInt(this.getAttribute("rel"));

                        if (rel == 5) { rel = 0 }

                        rel ++;
                        this.src = "img/grooveshark/" + rel + ".png";
                        this.setAttribute("rel", rel);
                    }
                </script>

                <section data-background="#000">
                    <p class="text-12 spotlight">Wooow...</p>
                    <p class="text-8 spotlight">What's happened?</p>
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">Magic?</p>
                    <img src="img/shia_labeouf_magic.gif" class="img" width="500px">
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">WebSocket?</p>
                </section>

                <section data-background="#000" data-transition="zoom">
                    <p class="text-8 spotlight">Fala para eles, Isabelle</p>
                    <img src="img/dont_do_more.gif" width="500">
                </section>

                <section data-background="#fff">
                    <p class="text-12 spotlight t-fff">Collection</p>
                    <img src="img/tazo.jpg">
                </section>

                <section data-background="#fff" data-transition="zoom">
                    <img src="img/qedu.png">
                </section>

                <section data-background="#000">
                    <img src="img/qedu/1.png" class="img next" rel="1" width="1000px">
                </section>

                <script>
                    document.getElementsByClassName("next")[0].onclick = function(){
                        rel = parseInt(this.getAttribute("rel"));

                        if (rel == 8) { rel = 0 }

                        rel ++;
                        this.src = "img/qedu/" + rel + ".png";
                        this.setAttribute("rel", rel);
                    }
                </script>

                <section data-background="#fff" data-transition="zoom">
                    <p class="text-12 spotlight t-fff">Hands on</p>
                    <img src="img/hands_on.jpg">
                </section>

                <section data-background="#fff">
                    <img src="img/architectural.png" class="img" width="80%" style="position:absolute;top:-26px;left:136px">
                </section>

                <section data-background="#000">
                    <p class="text-8 spotlight">JavaScript é terapia!</p>
                    <img src="img/king_of_xanxere.jpg" class="img" width="250">

                    <p class="text text-2 pull-right">
                        <em>Mulinari, King of Xanxerê</em>
                    </p>
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">ListView</p>
                    <img src="img/list_view.png">
                </section>

                <section data-background="#000">
                    <p class="text-8 spotlight">FollowCollection</p>

                    <pre class="pre code-mid"><code data-trim contenteditable class="code code-mid">
var FollowCollection = Backbone.Collection.extend({
    url:   '/api/following/',
    model: FollowModel
});
return  FollowCollection;
                    </code></pre>
                </section>

                <section data-background="#000">
                    <p class="text-8 spotlight">FollowModel</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
var FollowModel = Backbone.Model.extend({
    urlRoot: function() {
        return '/api/follow/'
    }
});
return  FollowModel;
                    </code></pre>
                </section>

                <!-- FOLLOWVIEW -->
                <section data-background="#000">
                    <p class="text-8 spotlight">FollowView</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
var FollowView = Backbone.View.extend({
    initialize: function() {
        this.collection = new FollowCollection();
        this.collection.fetch();
    }
    ...
});
return  FollowView;
                    </code></pre>
                </section>

                <!-- FOLLOWVIEW -->
                <section data-background="#000">
                    <p class="text-8 spotlight">FollowView @followList</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
initialize: function() {
    ...
    this.followList = new FollowListView({
        'collection': this.collection,
        'el': this.$('.list-view')
    });
}
                    </code></pre>
                </section>

                <!-- LIST VIEW -->
                <section data-background="#000">
                    <p class="text-8 spotlight">FollowListView</p>

                    <pre class="pre code-big"><code data-trim contenteditable class="code code-big">
var FollowListView = Backbone.View.extend({
    template: _.template( $('#tmp-list-view').html() ),

    initialize: function() {
        this.listenTo( this.collection, 'sync remove add', this.render );
    },
    ...
});
return  FollowListView;
                    </code></pre>
                </section>

                <!-- LIST VIEW - RENDER -->
                <section data-background="#000">
                    <p class="text-8 spotlight">FollowListView @render</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
...
render: function() {
    this.$el.html(this.template({
        'collection': this.collection,
        'view': this
    }));
}
                    </code></pre>
                </section>

                <section data-background="#000">
                    <p class="text-12 spotlight">FollowButton</p>
                    <img src="img/button_view.png">
                </section>

                <!-- BUTTON MODEL -->
                <section data-background="#000">
                    <p class="text-8 spotlight">ButtonModel</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
var ButtonModel = Backbone.Model.extend({
    "defaults": {
        "follow": false
    },
    urlRoot: function() {
        return '/api/follow/'
    }
});
return  ButtonModel;
                    </code></pre>
                </section>

                <!-- BUTTON VIEW -->
                <section data-background="#000">
                    <p class="text-8 spotlight">ButtonView</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
var ButtonView = Backbone.View.extend({
    el: '.follow-section',
    events: {
        'click .follow' : 'follow'
    },
    ...
});
return  ButtonView;
                    </code></pre>
                </section>

                <!-- BUTTON VIEW @INITIALIZE -->
                <section data-background="#000">
                    <p class="text-8 spotlight">ButtonView @initialize</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
...
initialize: function() {
    this.model = new ButtonModel();
    this.listenTo( this.model, "change", follow );
},
...
                    </code></pre>
                </section>

                <!-- BUTTON VIEW @FOLLOW -->
                <section data-background="#000">
                    <p class="text-8 spotlight">ButtonView @follow</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
...
follow: function() {
    this.model.set({ follow: true });
    this.model.save()

    .done(function(data) {
    ...
}
                    </code></pre>
                </section>

                <!-- BUTTON VIEW @FOLLOW@DONE -->
                <section data-background="#000">
                    <p class="text-8 spotlight">ButtonView @follow</p>

                    <pre class="pre"><code data-trim contenteditable class="code">
...
.done(function(data) {
    model = new FollowModel(data);

    Backbone.trigger( "u:follow", model );
    Backbone.trigger( "u:followCount" );

    this.following();
});
...
                    </code></pre>
                </section>

                <section data-background="#000" data-transition="zoom">
                    <p class="text-5 spotlight">Here is where the magic happens!</p>
                    <img src="img/magic_happens.png" class="img" width="650">
                </section>

                <!-- FOLLOWVIEW @BACKBONEEVENT -->
                <section data-background="#000">
                    <p class="text-8 spotlight">FollowView</p>

                    <pre class="pre code-mid"><code data-trim contenteditable class="code code-mid">
var FollowView = Backbone.View.extend({
    initialize: function(){
        Backbone.on( 'u:follow', this.addToCollection, this );
    },
    addToCollection: function(model) {
        this.collection.add(model);
    }
});
return FollowView;
                    </code></pre>
                </section>

                <section data-background="#000">
                    <p class="text-5 spotlight">...and the magic goes on and on</p>
                    <img src="img/qedu_feature.png" class="img" width="750">
                </section>

                <section data-background="#000" data-transition="zoom">
                    <p class="text-8 spotlight">That's all, folks.</p>
                    <img src="img/crockford.jpg" class="img" width="330">

                    <p class="text text-2 pull-right">
                        <em>e não esqueçam do <span class="text-5">;</span></em>
                    </p>
                </section>

                <section data-background="#000">
                    <p class="text-8"><a href="http://www.linkedin.com/pub/gabriel-gottgtroy-zigolis/15/706/658" class="spotlight">Gabriel Zigolis</a></p>
                    <p class="text-5 spotlight">gabriel.zigolis@gmail.com</p>
                    <br>
                    <p class="text-3 spotlight"><a href="http://www.zigolis.com.br/blog/">zigolis.com</a></p>
                    <p class="text-3 spotlight"><a href="https://github.com/zigolis">github.com/zigolis</a></p>
                    <p class="text-3 spotlight"><a href="https://speakerdeck.com/zigolis">speakerdeck.com/zigolis</a></p>
                    <p class="text-3 spotlight"><a href="http://www.slideshare.net/zigolis">slideshare.com/zigolis</a></p>
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script>
			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
		</script>
	</body>
</html>